[build]
  command = "npm ci"  # Uses lockfile; faster than "npm install"
  publish = "."

[functions]
  node_bundler = "esbuild"

[[functions]]
  path = "graphql.js"  # Your function file
  included_files = [
    "../db.js",
    "../schema.js",
    "../resolvers/Query.js",
    "../resolvers/Mutation.js",
    "../resolvers/Animal.js",
    "../resolvers/Category.js"
  ]

[[redirects]]
  from = "/graphql"
  to = "/.netlify/functions/graphql"
  status = 200